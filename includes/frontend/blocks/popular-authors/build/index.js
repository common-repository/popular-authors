(()=>{"use strict";var e={n:l=>{var t=l&&l.__esModule?()=>l.default:()=>l;return e.d(t,{a:t}),t},d:(l,t)=>{for(var o in t)e.o(t,o)&&!e.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:t[o]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.blocks,t=window.wp.element,o=window.wp.i18n,a=window.wp.serverSideRender;var r=e.n(a);const n=window.wp.blockEditor,u=window.wp.components;(0,l.registerBlockType)("popular-authors/popular-authors",{edit:function({attributes:e,setAttributes:l}){const{number:a,daily:s,daily_range:p,hour_range:h,offset:i,showOptionCount:d,showFullName:c,showAvatar:_,excludeAdmin:m,hideEmptyAuthors:E,include:w,exclude:g,other_attributes:b}=e,C=(0,n.useBlockProps)();return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(u.PanelBody,{title:(0,o.__)("Popular Authors Settings","popular-authors"),initialOpen:!0},(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.TextControl,{label:(0,o.__)("Max authors to display","popular-authors"),value:a,onChange:e=>{l({number:void 0===e?"":e})},help:(0,o.__)("Value -1 (all authors) is supported, but should be used with caution on larger sites.","popular-authors")}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.ToggleControl,{label:(0,o.__)("Custom period?","top-10"),help:s?(0,o.__)("Set range below","top-10"):(0,o.__)("Overall popular posts will be shown","top-10"),checked:s,onChange:()=>{l({daily:!s})}}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.TextControl,{label:(0,o.__)("Daily range","top-10"),value:p,onChange:e=>{l({daily_range:void 0===e?"":e})},help:(0,o.__)("Number of days","top-10")}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.TextControl,{label:(0,o.__)("Hour range","top-10"),value:h,onChange:e=>{l({hour_range:void 0===e?"":e})},help:(0,o.__)("Number of hours","top-10")}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.TextControl,{label:(0,o.__)("Offset","popular-authors"),value:i,onChange:e=>{l({offset:void 0===e?"":e})},help:(0,o.__)("Number of authors to offset in retrieved results. Only applies if number of authors set above is >0","popular-authors")}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.ToggleControl,{label:(0,o.__)("Show count","popular-authors"),help:d?(0,o.__)("Count displayed","popular-authors"):(0,o.__)("No count displayed","popular-authors"),checked:d,onChange:()=>{l({showOptionCount:!d})}}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.ToggleControl,{label:(0,o.__)("Show Full Name","popular-authors"),help:c?(0,o.__)("Full Name is displayed","popular-authors"):(0,o.__)("Display Name is displayed","popular-authors"),checked:c,onChange:()=>{l({showFullName:!c})}}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.ToggleControl,{label:(0,o.__)("Show Avatar","popular-authors"),help:_?(0,o.__)("Avatar displayed","popular-authors"):(0,o.__)("No avatar displayed","popular-authors"),checked:_,onChange:()=>{l({showAvatar:!_})}}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.ToggleControl,{label:(0,o.__)("Exclude admin","popular-authors"),help:m?(0,o.__)("'admin' account is excluded","popular-authors"):(0,o.__)("'admin' account is included","popular-authors"),checked:m,onChange:()=>{l({excludeAdmin:!m})}}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.ToggleControl,{label:(0,o.__)("Hide authors with no posts","popular-authors"),help:E?(0,o.__)("Authors with no posts are excluded","popular-authors"):(0,o.__)("Authors with no posts are included","popular-authors"),checked:E,onChange:()=>{l({hideEmptyAuthors:!E})}}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.TextControl,{label:(0,o.__)("Author IDs to include","popular-authors"),value:w,onChange:e=>{l({include:void 0===e?"":e})},help:(0,o.__)("Comma-separated list of author IDs to include","popular-authors")}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.TextControl,{label:(0,o.__)("Author IDs to exclude","popular-authors"),value:g,onChange:e=>{l({exclude:void 0===e?"":e})},help:(0,o.__)("Comma-separated list of author IDs to exclude","popular-authors")}))),(0,t.createElement)(u.PanelRow,null,(0,t.createElement)("fieldset",null,(0,t.createElement)(u.TextareaControl,{label:(0,o.__)("Other attributes","popular-authors"),value:b,onChange:e=>{l({other_attributes:void 0===e?"":e})},help:(0,o.__)("Enter other attributes in a URL-style string-query.","popular-authors")}))))),(0,t.createElement)("div",{...C},(0,t.createElement)(r(),{block:"popular-authors/popular-authors",attributes:e})))},save:()=>null})})();